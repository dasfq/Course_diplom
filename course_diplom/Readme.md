Модель пользователя наследуем от AbstractBaseUser, т.к. там нет поля username (оно нам не нужно).
Из-за этого вручную прописываем аттрибуты для superuser (копируем из AbstractUser).

В менеджере в методе create_user дописываем добавленные поля, чтобы они сохранялись в БД.

Прописываем кастомные сериалайзеры для User и Register, чтобы добавить свои поля.


Queryset для users - по полю email.

В папке /api содержатся views и urls для DRF. Эти urls нужно включить в основной urls проекта.
Для поддержки запроса users/email/contacts/pk используются nested_routers.

Во вьюхе мы указываем нужную модель, из которой брать объекты.
Можно это сделать по разному, но суть одна:
model = Contact
queryset = Contact.objects.all()
def get_quryset(self):

Для включения CBV в маршруты urls, к ним в конце добавляют метод .as_view()

Где переопределять методы запроса? Во вьюху передаётся request, а 
в сериалайзер - validation_data. От этого и плясать.

Defaultchangelist - это ветки на локальном компе. А бранчи - это ветки в Git. На 
гитхабе можно в каждом файле выбрать его версию в зависимости от ветки.
 
.содание заказа
...
. обновление корзины 

==============
- проверить уникальность в магазине ext_id, model и т.д.
- заменить все запросы к БД на select_related, prefetch, Q(), F()